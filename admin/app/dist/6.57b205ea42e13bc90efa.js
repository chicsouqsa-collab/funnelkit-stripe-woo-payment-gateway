(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{93:function(e,t,n){"use strict";var r=n(13),a=n(29),c=function(e){var t=Object(r.b)(),n=Object(a.a)(e),c=n.setLoading,o=n.fetch,i=n.clearError,u=n.setStateProp;return{setLoading:function(e){return t(c(e))},fetch:function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t(o(e,n,r,a))},clearError:function(){return t(i())},setStateProp:function(e,n){return t(u(e,n))}}};t.a=function(){var e=c("stripe").setStateProp;return{setIsConnected:function(t){return e("isConnected",t)},setIsEnableGateways:function(t){return e("isEnableGateways",t)},setIsEnableWebhook:function(t){return e("isEnableWebhook",t)},setExpressCheckout:function(t){return e("expressCheckout",t)},setIsRightHeader:function(t){return e("isRightHeader",t)}}}},99:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(12),c=n(20),o=n.n(c),i=n(93),u=n(43),s=n(28),l=n(10),f=n(5),b=n(15);function m(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function c(n,r,a,c){var u=r&&r.prototype instanceof i?r:i,s=Object.create(u.prototype);return p(s,"_invoke",function(n,r,a){var c,i,u,s=0,l=a||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return c=t,i=0,u=e,b.n=n,o}};function m(n,r){for(i=n,u=r,t=0;!f&&s&&!a&&t<l.length;t++){var a,c=l[t],m=b.p,p=c[2];n>3?(a=p===r)&&(u=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=m&&((a=n<2&&m<c[1])?(i=0,b.v=r,b.n=c[1]):m<p&&(a=n<3||c[0]>r||r>p)&&(c[4]=n,c[5]=r,b.n=p,i=0))}if(a||n>1)return o;throw f=!0,r}return function(a,l,p){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),i=l,u=p;(t=i<2?e:u)||!f;){c||(i?i<3?(i>1&&(b.n=-1),m(i,u)):b.n=u:b.v=u);try{if(s=2,c){if(i||(a="next"),t=c[a]){if(!(t=t.call(c,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);c=e}else if((t=(f=b.n<0)?u:n.call(r,b))!==o)break}catch(t){c=e,i=1,u=t}finally{s=1}}return{value:t,done:f}}}(n,a,c),!0),s}var o={};function i(){}function u(){}function s(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(p(t={},r,(function(){return this})),t),f=s.prototype=i.prototype=Object.create(l);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,p(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=s,p(f,"constructor",s),p(s,"constructor",u),u.displayName="GeneratorFunction",p(s,a,"GeneratorFunction"),p(f),p(f,a,"Generator"),p(f,r,(function(){return this})),p(f,"toString",(function(){return"[object Generator]"})),(m=function(){return{w:c,m:b}})()}function p(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(p=function(e,t,n,r){function c(t,n){p(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(c("next",0),c("throw",1),c("return",2))})(e,t,n,r)}function d(e,t,n,r,a,c,o){try{var i=e[c](o),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function o(e){d(c,r,a,o,i,"next",e)}function i(e){d(c,r,a,o,i,"throw",e)}o(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c,o,i=[],u=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=location&&location.search?Object(l.parse)(location.search.substring(1)):{},t=y(Object(r.useState)([]),2),n=t[0],c=t[1],p=y(Object(r.useState)(!0),2),d=p[0],h=p[1],g=y(Object(r.useState)(!1),2),v=g[0],O=g[1],j=y(Object(r.useState)(!1),2),E=j[0],k=j[1],N=Object(i.a)(),S=N.setIsEnableGateways,_=N.setIsEnableWebhook,P=N.setIsRightHeader;Object(r.useEffect)((function(){var e=[];return n.forEach((function(t){t.is_recommended&&e.push(t.id)})),e.length>0?n.forEach((function(t){e.includes(t.id)&&t.enabled&&h(!1)})):0==e.length&&n.forEach((function(e){e.enabled&&h(!1)})),function(){h({})}}),[n]);var I=function(){var e=w(m().m((function e(){var t;return m().w((function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,o()({path:"fkwcs-onboard/list-gateways",method:"get"}).then((function(e){e.status&&(c(e.data.gateways),k(!0))}));case 1:e.n=3;break;case 2:e.p=2,t=e.v,console.log(t);case 3:return e.a(2)}}),e,null,[[0,2]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var t=w(m().m((function t(){var r,a;return m().w((function(t){for(;;)switch(t.p=t.n){case 0:return r={gateways:n},O(!0),t.p=1,t.n=2,o()({path:"fkwcs-onboard/list-gateways",method:"POST",data:r}).then((function(t){t.status&&(Object(s.b)({},"/webhook",e),S("success"),_("active"),O(!1))}));case 2:t.n=4;break;case 3:t.p=3,a=t.v,console.log(a);case 4:return t.a(2)}}),t,null,[[1,3]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){I()}),[]),Object(r.useEffect)((function(){P(!0)}),[]),Object(r.createElement)(r.Fragment,null,E?Object(r.createElement)("div",{className:"bwf-container"},Object(r.createElement)("div",{className:"".concat(1!==n.length?"bwf-gateway":"")},Object(r.createElement)("div",{className:"bwf-align-center bwf-mb-16 bwf-mt-48"},Object(r.createElement)("img",{src:"".concat(bwfsg.images_dir,"PayNow.png"),className:""})),Object(r.createElement)("div",{className:"bwf-title bwf-mb-4"},Object(f.__)("Activate the payment methods","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("p",{className:"bwf-align-center bwf-description bwf-mb-24"},Object(f.__)("Following payment methods are available in your Stripe account. Enable the methods from which you want to accept payments.","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("div",{className:"".concat(1!==n.length?"bwf-gateway-container":"")},n.map((function(e,t){return Object(r.createElement)("div",{className:"bwf-gateway-card",key:t},Object(r.createElement)("div",{className:"bwf-card-image"},Object(r.createElement)("img",{src:e.icon,className:"bwf-image"})),Object(r.createElement)("div",{className:"bwf-card-body"},Object(r.createElement)("div",{className:"bwf-flex bwf-gap-6"},Object(r.createElement)("span",{className:"bwf-gateway-title"},Object(f.__)(e.title,"funnelkit-stripe-woo-payment-gateway")),e.is_recommended&&Object(r.createElement)("span",{className:"bwf-recommend-tag bwf-mt-4"},Object(f.__)("Recommended","funnelkit-stripe-woo-payment-gateway"))),Object(r.createElement)("span",{className:"bwf-gateway-description"},Object(f.__)(e.description,"funnelkit-stripe-woo-payment-gateway"))),Object(r.createElement)("div",{className:"bwf-card-toggle"},Object(r.createElement)(a.ToggleControl,{checked:e.enabled,onChange:function(){return function(e){n.map((function(t){if(t.id==e){var n=!t.enabled;t.enabled=n}}));var t=JSON.parse(JSON.stringify(n));c(t)}(e.id)}})))}))),Object(r.createElement)("div",{className:"bwf-align-center bwf-mt-36"},Object(r.createElement)(b.a,{isPrimary:!0,className:"bwf-button ".concat(d&&"disabled"," bwf-mb-40"),onClick:function(){!d&&x()},isBusy:v,disabled:v},Object(f.__)("Save and Continue","funnelkit-stripe-woo-payment-gateway"))))):Object(r.createElement)("div",{style:{display:"flex",height:"calc(100% - 62px)"}},Object(r.createElement)(u.a,null)))}}}]);