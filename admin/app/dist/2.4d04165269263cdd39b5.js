(window.webpackJsonp=window.webpackJsonp||[]).push([[2,5],{100:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(12),c=n(96),o=(n(98),n(20)),i=n.n(o),s=n(93),l=n(28),u=n(10),f=n(5),b=n(15);function m(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function c(n,r,a,c){var s=r&&r.prototype instanceof i?r:i,l=Object.create(s.prototype);return p(l,"_invoke",function(n,r,a){var c,i,s,l=0,u=a||[],f=!1,b={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return c=t,i=0,s=e,b.n=n,o}};function m(n,r){for(i=n,s=r,t=0;!f&&l&&!a&&t<u.length;t++){var a,c=u[t],m=b.p,p=c[2];n>3?(a=p===r)&&(s=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=m&&((a=n<2&&m<c[1])?(i=0,b.v=r,b.n=c[1]):m<p&&(a=n<3||c[0]>r||r>p)&&(c[4]=n,c[5]=r,b.n=p,i=0))}if(a||n>1)return o;throw f=!0,r}return function(a,u,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&m(u,p),i=u,s=p;(t=i<2?e:s)||!f;){c||(i?i<3?(i>1&&(b.n=-1),m(i,s)):b.n=s:b.v=s);try{if(l=2,c){if(i||(a="next"),t=c[a]){if(!(t=t.call(c,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),i=1);c=e}else if((t=(f=b.n<0)?s:n.call(r,b))!==o)break}catch(t){c=e,i=1,s=t}finally{l=1}}return{value:t,done:f}}}(n,a,c),!0),l}var o={};function i(){}function s(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(p(t={},r,(function(){return this})),t),f=l.prototype=i.prototype=Object.create(u);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,p(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=l,p(f,"constructor",l),p(l,"constructor",s),s.displayName="GeneratorFunction",p(l,a,"GeneratorFunction"),p(f),p(f,a,"Generator"),p(f,r,(function(){return this})),p(f,"toString",(function(){return"[object Generator]"})),(m=function(){return{w:c,m:b}})()}function p(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(p=function(e,t,n,r){function c(t,n){p(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(c("next",0),c("throw",1),c("return",2))})(e,t,n,r)}function w(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c,o,i=[],s=!0,l=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=location&&location.search?Object(u.parse)(location.search.substring(1)):{},t=y(Object(r.useState)(!1),2),n=t[0],o=t[1],p=y(Object(r.useState)(!1),2),d=p[0],g=p[1],O=y(Object(r.useState)(!1),2),j=O[0],h=O[1],v=y(Object(r.useState)(!0),2),E=v[0],k=v[1],_=Object(s.a)(),S=_.setIsEnableGateways,N=_.setIsEnableWebhook,x=_.setExpressCheckout,A=_.setIsRightHeader;Object(r.useEffect)((function(){A(!0),S("success"),N("success"),x("active")}),[]);var C=function(){var t,n=(t=m().m((function t(){var n,r;return m().w((function(t){for(;;)switch(t.p=t.n){case 0:return h(!0),t.p=1,n={webhook:{checkout:!0}},t.n=2,i()({path:"fkwcs-onboard/enable-checkout",method:"POST",data:n}).then((function(t){t.status?(g(!0),x("success"),A(!1),Object(l.b)({},"/success",e)):(o(!0),g(!0),A(!1),h(!1))}));case 2:t.n=4;break;case 3:t.p=3,r=t.v,console.log(r);case 4:return t.a(2)}}),t,null,[[1,3]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function o(e){w(c,r,a,o,i,"next",e)}function i(e){w(c,r,a,o,i,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.createElement)("div",{className:"bwf-container"},!d&&Object(r.createElement)("div",{className:"bwf-express-container"},Object(r.createElement)("div",{className:"bwf-align-center bwf-mb-16 bwf-mt-48"},Object(r.createElement)("img",{src:"".concat(bwfsg.images_dir,"Shopping.png")})),Object(r.createElement)("div",{className:"bwf-title bwf-mb-4"},Object(f.__)("Almost Done! Enable Express Checkout","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("p",{className:"bwf-align-center bwf-description bwf-mb-36"},Object(f.__)("To get more conversions, we recommend you to enable Express Checkout for Google and Apple Pay.","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("div",{className:"bwf-express-checkout"},Object(r.createElement)("div",{className:"bwf-flex bwf-flex-col"},Object(r.createElement)("div",{className:"bwf-flex bwf-gap-30"},Object(r.createElement)("img",{src:"".concat(bwfsg.images_dir,"GooglePay.svg"),className:"bwf-width-64"}),Object(r.createElement)("img",{src:"".concat(bwfsg.images_dir,"AppleLogo.svg"),className:"bwf-width-64"})),Object(r.createElement)("p",{className:"bwf-mt-8 bwf-desc"},Object(f.__)("Express Payment buttons will show on appropriate device. ","funnelkit-stripe-woo-payment-gateway"),Object(r.createElement)("a",{href:"https://funnelkit.com/docs/stripe-gateway-for-woocommerce/troubleshooting/express-payment-buttons-not-showing/",className:"bwf-a-no-underline",target:"_blank"},Object(f.__)("Learn More.","funnelkit-stripe-woo-payment-gateway")))),Object(r.createElement)(a.ToggleControl,{checked:E,onChange:function(){return k((function(e){return!e}))}})),Object(r.createElement)("div",{className:"bwf-align-center bwf-mt-36 bwf-flex bwf-flex-col"},Object(r.createElement)(b.a,{isPrimary:!0,className:"bwf-button",onClick:C,isBusy:j,disabled:j},Object(f.__)("Confirm","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)(b.a,{className:"components-button is-secondary bwf-mt-12",onClick:function(){Object(l.b)({},"/success",e)}},Object(f.__)("Skip this Step","funnelkit-stripe-woo-payment-gateway")))),n&&Object(r.createElement)(c.default,null))}},94:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var r=n(0),a=(n(94),n(20)),c=n.n(a),o=n(93),i=n(95),s=n(28),l=n(10),u=n(5),f=n(15);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c,o,i=[],s=!0,l=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=location&&location.search?Object(l.parse)(location.search.substring(1)):{},t=Object(o.a)().setIsRightHeader,n=b(Object(r.useState)(""),2),a=n[0],m=n[1],p=b(Object(r.useState)(!1),2),w=p[0],y=p[1],d=b(Object(r.useState)(!1),2),g=d[0],O=d[1],j=b(Object(r.useState)(!1),2),h=j[0],v=j[1];Object(r.useEffect)((function(){t(!1)}),[]),Object(r.useEffect)((function(){try{c()({path:"fkwcs-onboard/error-stripe",method:"get"}).then((function(e){e.status&&m(e.data.connect_url)}))}catch(e){console.log(e)}}),[]);return Object(r.useEffect)((function(){h&&Object(s.b)({},"/checkout",e)}),[h]),Object(r.createElement)("div",{className:"bwf-container"},!h&&Object(r.createElement)("div",{className:"bwf-failed-container"},Object(r.createElement)("div",{className:"bwf-align-center bwf-mb-16 bwf-mt-72"},Object(r.createElement)("img",{src:"".concat(bwfsg.images_dir,"Failed.png")})),Object(r.createElement)("div",{className:"bwf-page-title bwf-mb-4 bwf-align-center"},Object(u.__)("Oops! Unable to connect","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("p",{className:"bwf-align-center bwf-description bwf-mb-16"},Object(u.__)("Please give it another try!","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("div",{className:"bwf-align-center "},Object(r.createElement)(f.a,{isPrimary:!0,className:"bwf-button",onClick:function(){y(!0),window.location.replace(a)},isBusy:w,disabled:w},Object(u.__)("Try Again","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("br",null),Object(r.createElement)("div",{className:"bwf-need-help-text"},Object(u.__)("Need help? ","funnelkit-stripe-woo-payment-gateway"),Object(r.createElement)("a",{href:"https://funnelkit.com/support/",target:"_blank"},Object(u.__)("Contact Support","funnelkit-stripe-woo-payment-gateway"))))),g&&Object(r.createElement)(i.a,{isFailed:!0,onCloseModal:function(){return O(!1)},onSuccess:function(){O(!1),v(!0)}}))}},98:function(e,t,n){}}]);